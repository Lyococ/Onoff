<div *ngIf="successMessage" class="alert alert-success mt-2 text-center">
  {{ successMessage }}
</div>

<div class="btn-group mb-3">
  <button
    *ngFor="let option of menuOptions"
    class="btn btn-sm"
    [ngClass]="[option.class, filter === option.value ? 'active' : '']"
    (click)="filter = option.value"
  >
    {{ option.label }}
  </button>
</div>

<div class="container py-4">
  <h2 class="text-center mb-4">📋 Lista de Tareas</h2>

  <div class="input-group mb-3">
    <input
      [(ngModel)]="newTask"
      class="form-control"
      placeholder="Nueva tarea"
    />
    <button class="btn btn-success" (click)="addTask()">Agregar</button>
  </div>

  <ul class="list-group">
    <li
      *ngFor="let task of filteredTasks"
      class="list-group-item d-flex justify-content-between align-items-center"
    >
      <div>
        <input
          type="checkbox"
          [(ngModel)]="task.completed"
          (change)="toggleTask(task.id)"
        />
        <span [class.text-decoration-line-through]="task.completed">{{
          task.description
        }}</span>
      </div>

      <div *ngIf="task.editing">
        <input [(ngModel)]="task.description" (keyup.enter)="saveEdit(task)" />
        <button (click)="saveEdit(task)">💾 Guardar</button>
        <button (click)="cancelEdit(task)">❌ Cancelar</button>
      </div>

      <div *ngIf="!task.editing" >
        <button class="btn btn-sm btn-success " (click)="enableEdit(task)">
        ✏️
      </button>
      </div>
      <button class="btn btn-sm btn-danger" (click)="deleteTask(task.id)">
        🗑️
      </button>
    </li>
  </ul>
</div>
